<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>999. 可以被一步捕获的棋子数</title>
</head>
<body>
<script>
var numRookCaptures = function(board) {
    var x = 0, y = 0
    for (var i = 0; i< board.length; i++) {
        for (var j = 0; j < board[i].length; j++) {
            if (board[i][j] === 'R') {
                x = i
                y = j
                break
            }
        }
    }
    var count = 0
    var step = 1
    var dx = [1, 0, -1, 0]          // 这里是用来让车在同一时间只向某个方向移动，
    var dy = [0, 1, 0, -1]          // 也就是车在当前不是向上就是向下，不是向左就是向右
    // 开始往四个方向移动
    for (var i = 0; i < 4; i++) {
        step = 1
        while (true) {
            var mx = x + dx[i] * step
            var my = y + dy[i] * step
            if (mx < 0 || mx > 7  || my < 0 || my > 7 || board[mx][my] === 'B' ) {
                // 超出边界或者碰到自家象就停止
                break
            }
            if (board[mx][my] === 'p') {
                // 碰到对方卒则加1
                count++
                break
            }
            step++
        }
    }
    return count
};
console.log(
    numRookCaptures([
        [".",".",".",".",".",".",".","."],
        [".",".",".","p",".",".",".","."],
        [".",".",".","R",".",".",".","p"],
        [".",".",".",".",".",".",".","."],
        [".",".",".",".",".",".",".","."],
        [".",".",".","p",".",".",".","."],
        [".",".",".",".",".",".",".","."],
        [".",".",".",".",".",".",".","."]
    ])
)

console.log(numRookCaptures([[".",".",".",".",".",".",".","."],[".","p","p","p","p","p",".","."],[".","p","p","B","p","p",".","."],[".","p","B","R","B","p",".","."],[".","p","p","B","p","p",".","."],[".","p","p","p","p","p",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."]]))

console.log(numRookCaptures([[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".","R",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".","."]]))
</script>
</body>
</html>